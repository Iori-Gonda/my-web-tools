<!DOCTYPE html>
<html lang="ja">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>The Void with Horns - Pastel Dream</title>
    <style>
        :root {
            /* ãƒ‘ã‚¹ãƒ†ãƒ«5è‰² */
            --p-pink: #ffc1e3;
            --p-purple: #e0b0ff;
            --p-blue: #b2e2f2;
            --p-green: #c1ffda;
            --p-yellow: #fff9c1;
        }

        body {
            margin: 0; height: 100vh; overflow: hidden;
            font-family: 'Arial Rounded MT Bold', sans-serif;
            /* 5è‰²ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
            background: linear-gradient(120deg, var(--p-pink), var(--p-purple), var(--p-blue), var(--p-green), var(--p-yellow));
            background-size: 600% 600%; animation: gradientBG 15s ease infinite;
            display: flex; justify-content: center; align-items: center;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23ff69b4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ğŸŒŸ èƒŒæ™¯ã®ãƒãƒ„ãƒãƒ„ç‚¹æ»…ã‚­ãƒ©ã‚­ãƒ© */
        .twinkle {
            position: fixed; background: white; border-radius: 50%;
            pointer-events: none; opacity: 0;
            animation: flash var(--duration) infinite alternate;
        }
        @keyframes flash {
            0% { opacity: 0; transform: scale(0.3); }
            100% { opacity: 0.8; transform: scale(1); }
        }

        /* ãµã‚ãµã‚é›² */
        .cloud {
            position: fixed; font-size: 60px; cursor: pointer;
            user-select: none; transition: 0.5s; z-index: 5;
        }

        .main-card {
            width: 350px; background: rgba(255, 255, 255, 0.7);
            padding: 30px; border-radius: 50px; border: 8px solid white;
            box-shadow: 0 10px 30px rgba(255, 193, 227, 0.5);
            text-align: center; backdrop-filter: blur(10px); z-index: 10;
        }

        #unicorn-display { position: relative; }
        #unicorn-emoji { font-size: 50px; transition: transform 0.2s; display: inline-block; }
        #unicorn-blush {
            position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
            font-size: 2rem; opacity: 0; transition: opacity 0.5s; color: #ff69b4;
        }
        #unicorn-bubble {
            background: white; padding: 10px; border-radius: 20px;
            font-size: 0.8rem; margin-bottom: 20px; color: #8b5cf6; border: 2px solid #ffc1e3;
        }

        .btn-group { display: flex; flex-direction: column; gap: 10px; }
        .magic-btn {
            padding: 12px; border-radius: 50px; border: none;
            background: white; color: #ffc1e3; font-weight: bold;
            cursor: pointer; transition: 0.3s; box-shadow: 0 4px 0px #ffc1e3;
        }
        .magic-btn:active { transform: translateY(3px); box-shadow: none; }

        .running-unicorn {
            position: fixed; font-size: 80px; z-index: 999;
            pointer-events: none; animation: runAcross var(--speed) linear forwards;
        }
        @keyframes runAcross { from { right: -150px; } to { right: 110%; } }

        #manual-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 193, 227, 0.4); display: none;
            justify-content: center; align-items: center; z-index: 2000; backdrop-filter: blur(5px);
        }
        .manual-content {
            background: white; width: 85%; max-width: 400px; max-height: 80vh;
            border-radius: 30px; padding: 25px; overflow-y: auto; text-align: left;
        }
        .manual-close {
            display: block; width: 100%; margin-top: 20px; padding: 12px;
            background: #ffc1e3; color: white; border: none; border-radius: 50px; cursor: pointer;
        }

        .particle { position: fixed; pointer-events: none; animation: fadeOut var(--duration) forwards; z-index: 99; }
        @keyframes fadeOut {
            0% { 
                transform: translate(0, 0) rotate(0deg) scale(1); /* ğŸŒŸrotateã‚’è¿½åŠ  */
                opacity: 1; 
            }
            100% { 
                transform: translate(var(--x), var(--y)) rotate(var(--r)) scale(0); /* ğŸŒŸrotateã‚’è¿½åŠ  */
                opacity: 0; 
            }
        }

        #fairy-dust-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; transition: 5s; }
        .fairy-dust-active { background: rgba(255, 255, 255, 0.8) !important; }

        #translation-bubble {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: white; padding: 10px 15px; border-radius: 20px;
            font-size: 1.2rem; color: #8b5cf6; border: 2px solid #b2e2f2; opacity: 0; transition: 0.5s; z-index: 100;
        }
    </style>
</head>
<body onmousemove="handleMouseMove(event)" ondblclick="spawnMagicItem(event)">

    <div class="main-card">
        <div id="unicorn-display">
            <span id="unicorn-emoji">ğŸ¦„</span>
            <span id="unicorn-blush">(*ï¾‰Ï‰ï¾‰)</span>
        </div>
        <div id="unicorn-bubble">ã€Œä»Šæ—¥ã¯ã„ã„æ—¥ã«ãªã‚Šãã†ãªäºˆæ„Ÿ...âœ¨ã€</div>
        <div class="btn-group">
            <button class="magic-btn" onclick="spawnCloud()">ãµã‚ãµã‚é›²ã‚’ç”Ÿæˆ â˜ï¸</button>
            <button class="magic-btn" onclick="rollSlot()">ãƒã‚¸ã‚«ãƒ«ã‚¹ãƒ­ãƒƒãƒˆ ğŸ°</button>
            <button class="magic-btn" style="background: #ff69b4; color: white;" onclick="createHeartBurst()">è¤’ã‚è¨€è‘‰ã‚’ã‚‚ã‚‰ã† ğŸ’–</button>
            <button class="magic-btn" style="background: #8b5cf6; color: white;" onclick="startUnicornStampede()">ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ã‚’èµ°ã‚‰ã›ã‚‹ ğŸ¦„ğŸ’¨</button>
            <button class="magic-btn" onclick="changeLuckyColor()">ä»Šæ—¥ã®ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ ğŸ¨</button>
            <button class="magic-btn" style="background: #555; color: white;" onclick="toggleManual(true)">å…¬å¼ãƒˆãƒªã‚»ãƒ„ã‚’èª­ã‚€ ğŸ“–</button>
        </div>
        <p style="font-size: 0.6rem; margin-top: 20px; color: #aaa;">â€»ã“ã®ã‚µã‚¤ãƒˆã«ã¯å®Ÿç”¨çš„ãªæ©Ÿèƒ½ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“</p>
    </div>

    <div id="manual-overlay">
        <div class="manual-content">
            <h2>ğŸ¦„ å…¬å¼å–æ‰±èª¬æ˜æ›¸</h2>
            <p><strong>1. æ¥½ã—ã¿æ–¹</strong><br>
                ãƒ»è¦³è³ã™ã‚‹: ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ãŒé€šã‚Šéãã‚‹ã®ã‚’ãŸã è¦‹å®ˆã‚Šã¾ã™ã€‚<br>
                ãƒ»ãªã§ãªã§: ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ã®è¿‘ãã§ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã™ã¨ç…§ã‚Œã¾ã™ã€‚<br>
                ãƒ»éš ã—æ©Ÿèƒ½: ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãŠè“å­ãŒå¬å–šã•ã‚Œã¾ã™ã€‚10ç§’æ”¾ç½®ã™ã‚‹ã¨...ï¼Ÿ</p><br>
            <p><strong>2. æ¨å¥¨ã•ã‚Œã‚‹åˆ©ç”¨ã‚·ãƒ¼ãƒ³</strong><br>
                ãƒ»ç¾å®Ÿé€ƒé¿ã«: ä»•äº‹ã‚„å‹‰å¼·ã§è¡Œãè©°ã¾ã£ãŸæ™‚ã€ã“ã®ã‚µã‚¤ãƒˆã‚’é–‹ã„ã¦ã€Œã‚ã€ä¸–ã®ä¸­ã«ã¯ã“ã‚“ãªã«ç„¡é§„ãªã‚‚ã®ãŒã‚ã£ã¦ã‚‚ã„ã„ã‚“ã ã€ã¨å¿ƒã‚’è½ã¡ç€ã‹ã›ã¦ãã ã•ã„ã€‚<br>
                ãƒ»æ€è€ƒã®ãƒ‡ãƒˆãƒƒã‚¯ã‚¹: æƒ…å ±éå¤šãªç¾ä»£ã«ãŠã„ã¦ã€æƒ…å ±ã‚’ä¸€åˆ‡ä¸ãˆã¦ãã‚Œãªã„ã“ã®ã‚µã‚¤ãƒˆã¯ã€è„³ã®ä¼‘æ¯ã«æœ€é©ã§ã™ã€‚</p><br>
            <p><strong>3. ç¦æ­¢äº‹é …</strong><br>
                ãƒ»å®Ÿç”¨æ€§ã‚’æ±‚ã‚ã‚‹ã“ã¨: ã€Œå½¹ã«ç«‹ã¤æƒ…å ±ã‚’è¼‰ã›ã‚ˆã†ã€ã¨ã‹ã€ŒSEOå¯¾ç­–ã‚’ã—ã‚ˆã†ã€ãªã©ã¨è€ƒãˆãŸç¬é–“ã€ã“ã®ã‚µã‚¤ãƒˆã®é­”æ³•ã¯è§£ã‘ã¦ã—ã¾ã„ã¾ã™ã€‚<br>
                ãƒ»ç›®çš„ã‚’æŒã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨: ã€Œãªã‚“ã¨ãªãé–‹ãã€ã®ãŒæ­£è§£ã§ã™ã€‚</p><br>
            <p><strong>4. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</strong><br>
                Q: ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ãŒé€Ÿã™ãã¦è¦‹ãˆã¾ã›ã‚“ã€‚<br>
                A: ãã‚Œã‚‚ã¾ãŸäººç”Ÿã§ã™ã€‚ä¸€ç¬ã®å‡ºä¼šã„ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚<br>
                Q: ä½•ã‚‚èµ·ããªã„ã®ã§ã™ãŒã€æ•…éšœã§ã™ã‹ï¼Ÿ<br>
                A: ã„ã„ãˆã€æ­£å¸¸ã§ã™ã€‚ãã‚ŒãŒã“ã®ã‚µã‚¤ãƒˆã®ã€Œæœ€å¼·ã®æ©Ÿèƒ½ã€ã§ã™ã€‚</p>

            <button class="manual-close" onclick="toggleManual(false)">é–‰ã˜ã¦è™šç„¡ã«æˆ»ã‚‹</button>
        </div>
    </div>

    <div id="translation-bubble">ã·ã‚‹ã·ã‚‹</div>
    <div id="fairy-dust-overlay"></div>

<script>
    let currentBaseColor = 0;
    // ã‚­ãƒ©ã‚­ãƒ©ç”Ÿæˆ
    function createTwinkle() {
        const star = document.createElement('div');
        star.className = 'twinkle';
        const size = Math.random() * 5 + 2 + 'px';
        star.style.width = size; star.style.height = size;
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = Math.random() * 100 + 'vh';
        star.style.setProperty('--duration', (Math.random() * 2 + 1) + 's');
        document.body.appendChild(star);
        setTimeout(() => star.remove(), 4000);
    }
    setInterval(createTwinkle, 300);

    const unicornEmoji = document.getElementById('unicorn-emoji');
    const unicornBlush = document.getElementById('unicorn-blush');
    const unicornBubble = document.getElementById('unicorn-bubble');
    const fairyDustOverlay = document.getElementById('fairy-dust-overlay');
    const translationBubble = document.getElementById('translation-bubble');
    let idleTimer, isBlushing = false, petNadeCount = 0, lastMouseX = 0;

    function toggleManual(show) { document.getElementById('manual-overlay').style.display = show ? 'flex' : 'none'; }

    function startUnicornStampede() {
        for(let i=0; i<5; i++) {
            setTimeout(() => {
                const u = document.createElement('div');
                u.className = 'running-unicorn'; u.textContent = 'ğŸ¦„';
                u.style.top = Math.random() * 80 + 'vh';
                u.style.setProperty('--speed', (Math.random() * 2 + 2) + 's');
                document.body.appendChild(u);
                setTimeout(() => u.remove(), 5000);
            }, i * 300);
        }
    }

    function spawnCloud() {
        const cloud = document.createElement('div');
        cloud.className = 'cloud'; cloud.textContent = 'â˜ï¸';
        cloud.style.left = Math.random() * 80 + 'vw'; cloud.style.top = Math.random() * 80 + 'vh';
        document.body.appendChild(cloud);
        cloud.onclick = () => { cloud.style.opacity = "0"; setTimeout(() => cloud.remove(), 500); };
    }

    const messages = ["ãƒã‚·ãƒ¥ãƒãƒ­ã®é›²ã§å¯ãŸã„ãªã€œğŸ’­", "ã•ã£ãè™¹ã®æ©‹ã‚’æ¸¡ã£ã¦ããŸã‚ˆğŸŒˆ", "ä½•ã‚‚ã—ãªã„æ™‚é–“ã£ã¦ã€ä¸€ç•ªã®é­”æ³•ã ã‚ˆğŸ§™â€â™€ï¸", "ãã‚‰ãã‚‰ã®ä¸–ç•Œã¸ã‚ˆã†ã“ãï¼ğŸ’–", "ã‚ãªãŸã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã€ãƒªã‚ºãƒ ãŒè‰¯ã„ã­ï¼âœ¨", "æ˜Ÿå±‘ã‚µã‚¤ãƒ€ãƒ¼ã€é£²ã‚€ï¼ŸğŸ¥¤", "ä»Šã®ã‚¯ãƒªãƒƒã‚¯ã€ã¨ã£ã¦ã‚‚ã‚­ãƒ¥ãƒ¼ãƒˆï¼ğŸ’–", "ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³ã¯å¤¢ã‚’é£Ÿã¹ã‚‹ã®...ã‚‚ã¡ã‚ã‚“ã„ã„å¤¢ã ã‘ï¼ğŸ˜´", "ã‚ãªãŸã¨ã„ã‚‹ã¨ã€æ™‚é–“ãŒã‚ã£ã¨ã„ã†é–“ã ã­ğŸ•’", "å®Ÿã¯ã€ã“ã®ã‚µã‚¤ãƒˆã¯ç§ã®ç§˜å¯†ã®åº­ãªã‚“ã ã‚ˆğŸ¤«", "è™šç„¡ã®åº•ã¯æ„å¤–ã¨ã‚ã£ãŸã‹ã„ã‚ˆğŸ’­", "è™¹ã®ã‚³ãƒ¼ãƒ‰ã€æ›¸ãæ›ãˆã¦ãŠã„ãŸã‚ˆğŸŒˆ", "0101...ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³...âœ¨"];
    setInterval(() => { unicornBubble.textContent = `ã€Œ${messages[Math.floor(Math.random() * messages.length)]}ã€`; }, 5000);

     // ãƒã‚¸ã‚«ãƒ«ã‚¹ãƒ­ãƒƒãƒˆ
    function rollSlot() {
        const results = ["è¶…å¤§å‰ ğŸŒŸ", "å®‡å®™ä¸€ãƒ©ãƒƒã‚­ãƒ¼ ğŸš€", "ã‚†ã‚ã‹ã‚ãƒãƒƒãƒ”ãƒ¼ ğŸ­", "å¤©ä½¿ç´šã®å¹¸é‹ ğŸ‘¼"];
        const res = results[Math.floor(Math.random() * results.length)];
        alert(`çµæœã¯... ã€ ${res} ã€‘ ã§ã™ï¼ ãŠã‚ã§ã¨ã†ï¼`);
    }

    // ãƒãƒ¼ãƒˆãƒãƒ¼ã‚¹ãƒˆï¼ˆè¤’ã‚è¨€è‘‰ãƒœã‚¿ãƒ³ï¼‰
        function createHeartBurst() {
            for(let i=0; i<15; i++) {
            createParticle(window.innerWidth / 2, window.innerHeight / 2, 'ğŸ’–', 10, 1.5, 1);
            }
            alert('ãŸã ãŸã ã€ã‚ãªãŸãŒå¯æ„›ã„ã§ã™');
        }

    // ãƒã‚¦ã‚¹ã«ã¤ã„ã¦ãã‚‹å½—æ˜Ÿ
    function handleMouseMove(e) {
        // âœ¨ ã‚­ãƒ©ã‚­ãƒ©ã‚’ç”Ÿæˆï¼ˆã‚µã‚¤ã‚º 1.0ã€æŒç¶šæ™‚é–“ 0.8ç§’ï¼‰
        createTailParticle(e.clientX, e.clientY, (Math.random() < 0.5 ? 'âœ¨' : 'ğŸ’«'), 1.0, 0.8);
    
        resetIdleTimer();
        const rect = unicornEmoji.getBoundingClientRect();
        if (e.clientX > rect.left - 50 && e.clientX < rect.right + 50 && e.clientY > rect.top - 50 && e.clientY < rect.bottom + 50) {
            if (Math.abs(e.clientX - lastMouseX) > 15 && !isBlushing) {
                petNadeCount++;
                if (petNadeCount > 5) {
                    unicornBlush.style.opacity = 1; unicornEmoji.style.transform = "scale(1.2)";
                    isBlushing = true;
                    setTimeout(() => {
                        unicornBlush.style.opacity = 0; unicornEmoji.style.transform = "scale(1)";
                        isBlushing = false; petNadeCount = 0;
                    }, 2000);
                }
            }
        }
        lastMouseX = e.clientX;
    }

    // å½—æ˜Ÿã®ã—ã£ã½å°‚ç”¨ï¼ˆæ•£ã‚‰ãšã«ã€ã‚¹ãƒƒã¨ãã®å ´ã«æ®‹ã£ã¦æ¶ˆãˆã‚‹ï¼‰
    function createTailParticle(x, y, emoji, size, duration) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.textContent = emoji;
        p.style.left = x + 'px';
        p.style.top = y + 'px';

        // ğŸŒŸ æ•£ã‚‰ã°ã‚Šåˆ¶é™ï¼šæ¨ª(X)ã¯ã»ã¼å‹•ã‹ã•ãšã€ç¸¦(Y)ã«å°‘ã—ã ã‘é‡åŠ›ã§è½ã¡ã‚‹
        const moveX = (Math.random() - 0.5) * 10; // å·¦å³ã«ã‚ãšã‹5pxã ã‘
        const moveY = Math.random() * 30 + 10;    // ä¸‹ã«10ã€œ40pxã ã‘è½ã¡ã‚‹

        p.style.setProperty('--x', moveX + 'px');
        p.style.setProperty('--y', moveY + 'px');
        p.style.setProperty('--r', '0deg'); // ã—ã£ã½ã¯å›è»¢ã•ã›ãªã„æ–¹ãŒç¶ºéº—ã§ã™
    
        const finalSize = (Math.random() * 5 + 10) * size; 
        p.style.fontSize = finalSize + 'px';
        p.style.setProperty('--duration', duration + 's');

        document.body.appendChild(p);
        setTimeout(() => p.remove(), duration * 1000);
    }

    // 8. ç”»é¢ãŠãã†ã˜ï¼ˆæ”¾ç½®ã§ã‚­ãƒ©ã‚­ãƒ©åŸ‹ã‚å°½ãã—ï¼‰
    function startIdleTimer() {
        idleTimer = setTimeout(() => {
            fairyDustOverlay.classList.add('fairy-dust-active');
            createParticle(Math.random()*window.innerWidth, Math.random()*window.innerHeight, 'ğŸŒŸ', 50, 2, 5); // ã‚­ãƒ©ã‚­ãƒ©ã‚’å¤§é‡ç”Ÿæˆ
            createParticle(Math.random()*window.innerWidth, Math.random()*window.innerHeight, 'ğŸ’–', 30, 1.5, 4); // ãƒãƒ¼ãƒˆã‚‚
            createParticle(Math.random()*window.innerWidth, Math.random()*window.innerHeight, 'ğŸŒˆ', 10, 3, 6); // è™¹ã‚‚
        }, 10000); // 10ç§’æ”¾ç½®ã§ç™ºå‹•
    }

    function resetIdleTimer() {
        clearTimeout(idleTimer);
        fairyDustOverlay.classList.remove('fairy-dust-active');
        startIdleTimer();
    }

    startIdleTimer(); // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹

    // ç„¡æ„å‘³ãªé­”æ³•ã®æ–ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§å¬å–šï¼‰
    function spawnMagicItem(e) {
        const items = ['ğŸ­', 'ğŸ€', 'ğŸ’', 'ğŸ¬', 'âœ¨', 'ğŸŒ¸'];
        // 1. ãƒ«ãƒ¼ãƒ—ã®å¤–ã§ã€Œä»Šå›ã®ãˆã‚‚ã˜ã€ã‚’1ç¨®é¡ã ã‘æ±ºã‚ã‚‹
        const selectedItem = items[Math.floor(Math.random() * items.length)];
    
        // 2. æ±ºã¾ã£ãŸ1ç¨®é¡ã®ãˆã‚‚ã˜ã‚’ã€è¤‡æ•°å€‹ï¼ˆ12å€‹ãã‚‰ã„ï¼‰é£›ã°ã™
        for (let i = 0; i < 12; i++) {
        // å…¨ã¦åŒã˜ selectedItem ã‚’ä½¿ã£ã¦ã€ãƒãƒ©ãƒãƒ©ã®æ–¹å‘ã«é£›ã°ã™
        createParticle(e.clientX, e.clientY, selectedItem, 1, 1, 1.5);
        }
    }

    // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”Ÿæˆã®åŸºç¤é–¢æ•°ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å€‹åˆ¥ã«é©ç”¨ï¼‰
    function createParticle(x, y, emoji, count, size, duration) {
        for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            p.textContent = emoji;
        
            // å‡ºç¾ä½ç½®
            p.style.left = x + 'px';
            p.style.top = y + 'px';

            // ğŸš€ é‡è¦ï¼šã“ã“ã§ã€Œ1å€‹ãšã¤ãƒãƒ©ãƒãƒ©ã®é£›ã³å…ˆã€ã‚’è¨ˆç®—ã™ã‚‹
            const moveX = (Math.random() - 0.5) * 400; // -250px ï½ 250px ã®ç¯„å›²
            const moveY = (Math.random() - 0.5) * 400; // -250px ï½ 250px ã®ç¯„å›²
            const rotate = (Math.random() - 0.5) * 540; // ãã‚‹ãã‚‹å›ã™

            // CSSå¤‰æ•°ã«ãƒãƒ©ãƒãƒ©ã®å€¤ã‚’ã‚»ãƒƒãƒˆ
            p.style.setProperty('--x', moveX + 'px');
            p.style.setProperty('--y', moveY + 'px');
            p.style.setProperty('--r', rotate + 'deg');
        
        // ã‚µã‚¤ã‚ºã¨æ™‚é–“ã‚’ã‚»ãƒƒãƒˆ
        const finalSize = (Math.random() * 20 + 20) * size;
        p.style.fontSize = finalSize + 'px';
        p.style.setProperty('--duration', duration + 's');

        document.body.appendChild(p);
        
        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚ã‚ã£ãŸã‚‰æ¶ˆã™
        setTimeout(() => p.remove(), duration * 1000);
    }
}

    // ãŠã—ã‚ƒã¹ã‚Šç¿»è¨³æ©Ÿ
    const kawaiiWords = ["ãµã‚ãµã‚", "ãã‚‰ã€œã‚“", "ã·ã‚‹ã·ã‚‹", "ã´ã‚‡ã‚“ã´ã‚‡ã‚“", "ã‚‹ã‚“ã‚‹ã‚“", "ã‚‚ãµã‚‚ãµ", "ãã‚…ã‚“ğŸ’–"];
    document.addEventListener('keydown', (e) => {

        if (!e.repeat) { // ã‚­ãƒ¼é•·æŠ¼ã—ã§é€£ç¶šã—ãªã„ã‚ˆã†ã«
            const word = kawaiiWords[Math.floor(Math.random() * kawaiiWords.length)];
            translationBubble.textContent = word;
            translationBubble.style.opacity = 1;
            translationBubble.style.transform = `translateX(-50%) translateY(${Math.random() * 10 - 5}px)`; // å°‘ã—æºã‚‰ã™
            setTimeout(() => {
                translationBubble.style.opacity = 0;
                translationBubble.style.transform = 'translateX(-50%) translateY(0)';
            }, 1500);
        }
    });

    // ä»Šæ—¥ã®ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼å¼·åˆ¶å¤‰æ›´
    function changeLuckyColor() {
        const root = document.documentElement;
        const colors = [
            { '--p-pink': '#ffc1e3', '--p-purple': '#e0b0ff', '--p-blue': '#b2e2f2', '--p-green': '#c1ffda', '--p-yellow': '#fff9c1' }, // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
            { '--p-pink': '#ffddaa', '--p-purple': '#ffccff', '--p-blue': '#aaddff', '--p-green': '#fff0b3', '--p-yellow': '#ffd1d1' }, // ã‚µãƒ³ã‚»ãƒƒãƒˆ
            { '--p-pink': '#aaffaa', '--p-purple': '#ccffcc', '--p-blue': '#eeeeff', '--p-green': '#d1ffd1', '--p-yellow': '#f0fff0' }  // ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆ
        ];
        currentBaseColor = (currentBaseColor + 1) % colors.length;
        const newColors = colors[currentBaseColor];
        for (const key in newColors) {
            root.style.setProperty(key, newColors[key]);
        }
        createParticle(window.innerWidth / 2, 50, 'ğŸŒˆ', 10, 2, 2);
    }
</script>
</body>
</html>